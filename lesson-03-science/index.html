<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²›å¦¤çš„ç†åŒ–ç‰¹è¨“ä¸­å¿ƒ | ä¿®æ­£ç‰ˆ</title>
    <style>
        :root { 
            --primary: #2c3e50; --accent: #d35400; --bg: #f5f6fa;
            --proton: #e74c3c; --neutron: #7f8c8d; --electron: #3498db;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Microsoft JhengHei', sans-serif; background: var(--bg); margin: 0; padding: 0; height: 100vh; overflow: hidden; width: 100vw; }

        /* ================== è¢å¹•å®¹å™¨ (å¼·åˆ¶äº’æ–¥) ================== */
        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; /* é è¨­å…¨éƒ¨éš±è— */
            flex-direction: column; overflow: hidden;
        }
        .screen.active { display: flex; animation: fadeIn 0.3s forwards; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ================== 1. é¦–é  (å¤§å»³) ================== */
        #home-screen {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            color: white;
            align-items: center; justify-content: center;
            z-index: 999; /* é¦–é å±¤ç´šæœ€é«˜ */
        }
        
        .hero-title { font-size: 3.5rem; margin-bottom: 10px; font-weight: bold; text-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .hero-subtitle { font-size: 1.2rem; margin-bottom: 50px; opacity: 0.9; letter-spacing: 2px; }
        
        .menu-container { display: flex; gap: 40px; z-index: 1000; position: relative; }
        .menu-card {
            background: rgba(255,255,255,0.15); backdrop-filter: blur(10px);
            padding: 40px; border-radius: 20px; border: 2px solid rgba(255,255,255,0.3);
            width: 240px; text-align: center; cursor: pointer; transition: 0.2s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            user-select: none;
        }
        .menu-card:active { transform: scale(0.95); background: rgba(255,255,255,0.3); }
        .menu-card:hover { transform: translateY(-5px); border-color: #fff; }
        .menu-icon { font-size: 4rem; margin-bottom: 20px; display: block; }
        .menu-title { font-size: 1.5rem; font-weight: bold; margin-bottom: 10px; }
        .menu-desc { font-size: 0.9rem; opacity: 0.9; line-height: 1.5; }

        /* ================== 2. ä¸Šèª²æ¨¡å¼ (Lecture) ================== */
        #lecture-zone { background: #ecf0f1; }
        
        .lecture-nav {
            padding: 15px; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex; justify-content: center; gap: 10px; z-index: 500;
        }
        .lec-step {
            padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold;
            color: #7f8c8d; border: 1px solid #ccc; transition: 0.3s;
        }
        .lec-step.active { background: var(--primary); color: white; border-color: var(--primary); transform: scale(1.05); }

        .lecture-content { flex: 1; padding: 30px; display: flex; justify-content: center; overflow-y: auto; }
        .slide { width: 100%; max-width: 900px; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: none; }
        .slide.active { display: block; }

        .guide-box { background: #fff8e1; border-left: 5px solid #ffc107; padding: 20px; margin-bottom: 30px; font-size: 1.2rem; display: flex; justify-content: space-between; align-items: center; border-radius: 8px; }
        .action-btn { background: var(--accent); color: white; border: none; padding: 12px 30px; border-radius: 50px; cursor: pointer; font-size: 1.1rem; font-weight: bold; box-shadow: 0 5px 15px rgba(211, 84, 0, 0.3); transition: 0.2s; }
        .action-btn:active { transform: scale(0.95); }

        /* å¯¦é©—å…ƒä»¶ */
        .lab-visual-area { display: flex; gap: 40px; justify-content: center; margin-top: 20px; flex-wrap: wrap; }
        .beaker { width: 140px; height: 180px; border: 4px solid #333; border-top: none; position: relative; background: rgba(255,255,255,0.8); border-radius: 0 0 15px 15px; }
        .liquid { width: 100%; position: absolute; bottom: 0; background: #3498db; transition: 0.5s; }
        .ice { width: 100%; height: 60px; background: #aed6f1; position: absolute; bottom: 0; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #154360; }
        
        .atom-stage { width: 280px; height: 280px; position: relative; border: 1px solid #eee; border-radius: 50%; margin: 0 auto; }
        .orbit { border: 1px dashed #ccc; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .nucleus { width: 70px; height: 70px; background: #2c3e50; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; font-weight: bold; z-index: 10; transition: 0.2s; }
        .electron { width: 14px; height: 14px; background: var(--electron); border-radius: 50%; position: absolute; box-shadow: 0 0 5px var(--electron); }

        /* ================== 3. å¯¦æˆ°æ¨¡å¼ (Mastery) ================== */
        #mastery-zone { background: white; flex-direction: row; }
        
        .exam-panel { width: 45%; background: #fdfdfd; padding: 30px; overflow-y: auto; border-right: 2px solid #ddd; }
        .q-box { margin-bottom: 25px; padding: 20px; border-radius: 8px; border: 1px solid #eee; transition: 0.2s; cursor: pointer; position: relative; }
        .q-box:hover { background: #f9f9f9; border-color: #ddd; }
        .q-box.active { background: #fffbe6; border-left: 6px solid #f1c40f; box-shadow: 0 5px 15px rgba(0,0,0,0.08); }
        
        .q-tag { font-size: 0.8rem; background: #eee; padding: 2px 6px; border-radius: 4px; color: #555; margin-right: 5px; font-weight: normal; }
        .q-title { font-weight: bold; margin-bottom: 10px; color: #2c3e50; line-height: 1.5; font-size: 1.1rem; }
        .q-opt { padding: 10px 12px; border: 1px solid transparent; border-radius: 6px; margin-bottom: 5px; font-size: 1rem; background: rgba(0,0,0,0.02); }
        .q-opt:hover { background: #eef; }
        .q-opt.correct { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .q-opt.wrong { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        
        .summon-btn { position: absolute; top: 15px; right: 15px; background: var(--accent); color: white; border: none; padding: 5px 12px; border-radius: 15px; cursor: pointer; font-size: 0.8rem; z-index: 5; }
        .summon-btn:hover { background: #e67e22; }

        .lab-panel { width: 55%; background: #ecf0f1; position: relative; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .helper-card { width: 100%; height: 100%; background: white; border-radius: 15px; padding: 20px; display: none; overflow-y: auto; box-shadow: 0 5px 20px rgba(0,0,0,0.1); animation: fadeIn 0.3s; }
        .helper-card.active { display: block; }

        /* è¿”å›æŒ‰éˆ• */
        .back-btn { position: absolute; top: 20px; left: 20px; background: rgba(0,0,0,0.6); color: white; border: none; padding: 10px 20px; border-radius: 30px; cursor: pointer; z-index: 9999; font-weight: bold; display: flex; align-items: center; gap: 5px; }
        .back-btn:hover { background: rgba(0,0,0,0.8); }

        /* å…¶ä»– CSS */
        .thermos-vis { width: 140px; height: 280px; border: 4px solid #555; margin: 0 auto; position: relative; background: #eee; border-radius: 15px; }
        .t-layer { position: absolute; width: 100%; height: 100%; border-radius: 11px; transition: 0.3s; opacity: 0; }
        .chart-vis { width: 300px; height: 200px; border-left: 2px solid #333; border-bottom: 2px solid #333; position: relative; margin: 20px auto; }
        .chart-line { position: absolute; height: 6px; background: #95a5a6; transform-origin: left bottom; cursor: pointer; transition: 0.2s; }
        .chart-line:hover { height: 10px; background: #e67e22; }

    </style>
</head>
<body>

<div id="home-screen" class="screen active">
    <div class="hero-title">ç†åŒ–ç‰¹è¨“ä¸­å¿ƒ</div>
    <div class="hero-subtitle">è§€å¿µå»ºæ§‹ x è€ƒé¡Œå¯¦æˆ°</div>
    
    <div class="menu-container">
        <div class="menu-card" onclick="switchScreen('lecture-zone')">
            <span class="menu-icon">âš—ï¸</span>
            <div class="menu-title">è§€å¿µç‰¹è¨“</div>
            <div class="menu-desc">äº’å‹•æ•™å­¸æ¨¡å¼<br>5-5 èˆ‡ 6-2</div>
        </div>

        <div class="menu-card" onclick="switchScreen('mastery-zone')">
            <span class="menu-icon">ğŸ“</span>
            <div class="menu-title">Aå· å¯¦æˆ°</div>
            <div class="menu-desc">ç¿°æ—ç‰ˆé‡é»é¡Œ<br>7 é¡Œç²¾é¸ç‰¹è¨“</div>
        </div>
    </div>
</div>

<div id="lecture-zone" class="screen">
    <button class="back-btn" onclick="switchScreen('home-screen')">â¬… å›é¦–é </button>
    
    <div class="lecture-nav">
        <div class="lec-step active" onclick="showSlide(1)">1. ç‹€æ…‹è®ŠåŒ–</div>
        <div class="lec-step" onclick="showSlide(2)">2. åŸå­çµæ§‹</div>
        <div class="lec-step" onclick="showSlide(3)">3. å®Œæˆ</div>
    </div>

    <div class="lecture-content">
        <div id="slide-1" class="slide active">
            <h2>ğŸ“Š åŠ ç†±æ›²ç·š (5-5)</h2>
            <div class="guide-box">
                <span>ä»»å‹™ï¼šæŒ‰ä½åŠ ç†±ï¼Œç‚ºä»€éº¼æº«åº¦è¨ˆæœƒå¡ä½ï¼Ÿ</span>
                <button class="action-btn" onmousedown="heatStart()" onmouseup="heatStop()">ğŸ”¥ æŒ‰ä½åŠ ç†±</button>
            </div>
            <div class="lab-visual-area">
                <div style="text-align:center;">
                    <div class="beaker">
                        <div id="ice-visual" class="ice">å†°</div>
                        <div id="water-visual" class="liquid" style="height:0;"></div>
                    </div>
                    <div style="margin-top:10px; font-weight:bold;" id="state-text">å›ºé«” (-10Â°C)</div>
                </div>
                <div style="position:relative; width:300px; height:200px; border-left:2px solid #333; border-bottom:2px solid #333;">
                    <div style="position:absolute; top:-20px;">T (æº«)</div>
                    <div style="position:absolute; right:-20px; bottom:0;">t (æ™‚)</div>
                    <div id="graph-dot" style="width:8px; height:8px; background:#d35400; border-radius:50%; position:absolute; bottom:20px; left:0;"></div>
                    <svg width="300" height="200" style="position:absolute; top:0; left:0; pointer-events:none;">
                        <path d="M0,180 L40,150 L100,150 L180,50 L240,50 L280,10" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                    </svg>
                </div>
            </div>
        </div>

        <div id="slide-2" class="slide">
            <h2>âš›ï¸ åŸå­çµæ§‹ (6-2)</h2>
            <div class="guide-box">
                <span>å£è¨£ï¼šè³ªå­=èº«åˆ†è­‰ï¼Œä¸­å­=é«”é‡ï¼Œé›»å­=è¡£æœ</span>
            </div>
            <div class="lab-visual-area">
                <div class="atom-stage">
                    <div class="orbit" style="width:120px; height:120px;"></div>
                    <div class="orbit" style="width:220px; height:220px;"></div>
                    <div class="nucleus" id="lec-nucleus">P:6<br>N:6</div>
                    <div id="lec-elec-con"></div>
                </div>
                <div style="display:flex; flex-direction:column; gap:10px; justify-content:center;">
                    <div style="font-size:1.5rem; font-weight:bold; color:#2c3e50;" id="lec-atom-name">C ç¢³</div>
                    <button class="action-btn" style="background:#e74c3c;" onclick="lecModAtom('p')">å‹•è³ªå­ (èº«åˆ†)</button>
                    <button class="action-btn" style="background:#7f8c8d;" onclick="lecModAtom('n')">å‹•ä¸­å­ (èƒ–ç˜¦)</button>
                    <button class="action-btn" style="background:#3498db;" onclick="lecModAtom('e')">å‹•é›»å­ (å¸¶é›»)</button>
                </div>
            </div>
            <p id="lec-msg" style="text-align:center; font-weight:bold; margin-top:20px; color:#d35400; height:20px;"></p>
        </div>

        <div id="slide-3" class="slide" style="text-align:center;">
            <h2>ğŸ‰ è§€å¿µç‰¹è¨“å®Œæˆï¼</h2>
            <p style="font-size:1.2rem; margin:30px 0;">å¦³å·²ç¶“æº–å‚™å¥½äº†ã€‚<br>ç¾åœ¨ï¼Œæˆ‘å€‘å»æŒ‘æˆ°ç¿°æ— A å·ï¼</p>
            <button class="action-btn" style="font-size:1.5rem; padding:15px 40px;" onclick="switchScreen('mastery-zone')">å‰å¾€å¯¦æˆ° â”</button>
        </div>
    </div>
</div>

<div id="mastery-zone" class="screen">
    <button class="back-btn" onclick="switchScreen('home-screen')">â¬… å›é¦–é </button>

    <div class="exam-panel">
        <div class="exam-header" style="text-align:center; border-bottom:3px double #333; margin-bottom:20px; padding-bottom:10px;">
            <h2>ç¿°æ— A å· - ç²¾é¸é¡Œ</h2>
            <p style="color:#666;">é»æ“Šã€ŒğŸ§ª å¬å–šå¯¦é©—ã€æ‰¾ç­”æ¡ˆ</p>
        </div>

        <div class="q-box" onclick="openHelper('heat')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">5-4 å‚³å°</span>1. å†¬å¤©æ‘¸é‡‘å±¬é–€æŠŠè¦ºå¾—æ¯”æ‘¸æœ¨é–€å†·ï¼Œæ˜¯å› ç‚ºé‡‘å±¬ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. æº«åº¦è¼ƒä½</div>
            <div class="q-opt" onclick="check(this, true)">B. å‚³å°ç†±é‡é€Ÿç‡å¿«</div>
            <div class="q-opt" onclick="check(this, false)">C. æ¯”ç†±è¼ƒå¤§</div>
        </div>

        <div class="q-box" onclick="openHelper('thermos')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">5-4 ä¿æº«ç“¶</span>2. ä¿æº«ç“¶ã€ŒééŠ€å…§å£ã€æ˜¯ç‚ºäº†é˜²æ­¢ä»€éº¼ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. å‚³å°</div>
            <div class="q-opt" onclick="check(this, false)">B. å°æµ</div>
            <div class="q-opt" onclick="check(this, true)">C. è¼»å°„</div>
        </div>

        <div class="q-box" onclick="openHelper('chart')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">5-5 åœ–è¡¨</span>3. åŠ ç†±æ›²ç·šä¸­ï¼Œã€Œæ°´å¹³ç·šæ®µ(å¹³è‡º)ã€ä»£è¡¨ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. æº«åº¦ä¸Šå‡</div>
            <div class="q-opt" onclick="check(this, true)">B. ç‹€æ…‹æ”¹è®Š (è®Šèº«ä¸­)</div>
            <div class="q-opt" onclick="check(this, false)">C. åœæ­¢å¸ç†±</div>
        </div>

        <div class="q-box" onclick="openHelper('atom')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">6-2 åŒä½ç´ </span>4. ç¢³-14 èˆ‡ ç¢³-12 å“ªè£¡ä¸åŒï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. è³ªå­æ•¸</div>
            <div class="q-opt" onclick="check(this, true)">B. ä¸­å­æ•¸</div>
            <div class="q-opt" onclick="check(this, false)">C. é›»å­æ•¸</div>
        </div>

        <div class="q-box" onclick="openHelper('atom')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">6-2 é›¢å­</span>5. éˆ‰åŸå­è®Šæˆéˆ‰é›¢å­ (Naâº)ï¼Œæ˜¯å› ç‚ºï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. å¾—åˆ°è³ªå­</div>
            <div class="q-opt" onclick="check(this, true)">B. å¤±å»é›»å­</div>
            <div class="q-opt" onclick="check(this, false)">C. å¤±å»è³ªå­</div>
        </div>

        <div class="q-box" onclick="openHelper('period')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">6-3 é¹¼é‡‘å±¬</span>6. é€±æœŸè¡¨ç¬¬ 1 æ— (é¹¼é‡‘å±¬) çš„ç‰¹æ€§ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, true)">A. æ´»æ€§å¤§ï¼Œé‡æ°´åæ‡‰</div>
            <div class="q-opt" onclick="check(this, false)">B. æ´»æ€§å°ï¼Œå®‰å®š</div>
            <div class="q-opt" onclick="check(this, false)">C. æ˜¯éé‡‘å±¬</div>
        </div>
        
        <div class="q-box" onclick="openHelper('heat')">
            <button class="summon-btn">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-title"><span class="q-tag">5-4 è¼»å°„</span>7. é»‘æ¯æ°´ vs ç™½æ¯æ°´ï¼Œèª°é™æº«å¿«ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, true)">A. é»‘æ¯ (è¼»å°„å¼·)</div>
            <div class="q-opt" onclick="check(this, false)">B. ç™½æ¯ (è¼»å°„å¼±)</div>
            <div class="q-opt" onclick="check(this, false)">C. ä¸€æ¨£å¿«</div>
        </div>
    </div>

    <div class="lab-panel">
        <div id="helper-intro" style="text-align:center; color:#7f8c8d;">
            <h3>âš—ï¸ å¯¦é©—æ•‘æ´å€</h3>
            <p>é»æ“Šå·¦å´é¡Œç›®çš„ã€ŒğŸ§ªã€æŒ‰éˆ•<br>é€™è£¡æœƒé¡¯ç¤ºå°æ‡‰çš„è§£é¡Œç¥å™¨ï¼</p>
        </div>

        <div id="helper-heat" class="helper-card">
            <h3>ğŸ”¥ å‚³å° & è¼»å°„ å¯¦é©—</h3>
            <div style="display:flex; justify-content:space-around; margin-top:30px;">
                <div onclick="alert('é‡‘å±¬å°ç†±å¿« -> æ‰‹ç†±é‡è¢«å¸èµ° -> è¦ºå¾—å†·ï¼')" style="text-align:center; cursor:pointer;">
                    <div style="width:80px; height:80px; background:#bdc3c7; border-radius:10px; margin:auto;"></div>
                    <p>é‡‘å±¬ (éµçª—)</p>
                </div>
                <div onclick="alert('æœ¨é ­å°ç†±æ…¢ -> ä¿æº«')" style="text-align:center; cursor:pointer;">
                    <div style="width:80px; height:80px; background:#a1887f; border-radius:10px; margin:auto;"></div>
                    <p>æœ¨é ­</p>
                </div>
            </div>
            <hr>
            <div style="display:flex; justify-content:center; gap:20px;">
                <button class="action-btn" onclick="alert('é»‘è‰²ï¼šæ˜“å¸ç†±ï¼Œä¹Ÿæ˜“æ”¾ç†± (è¼»å°„å¼·)')" style="background:black;">é»‘æ¯</button>
                <button class="action-btn" onclick="alert('ç™½è‰²ï¼šä¸æ˜“å¸ç†±ï¼Œä¹Ÿä¸æ˜“æ”¾ç†±')" style="background:#ddd; color:black;">ç™½æ¯</button>
            </div>
        </div>

        <div id="helper-thermos" class="helper-card">
            <h3>ğŸ›¡ï¸ ä¿æº«ç“¶æ§‹é€ </h3>
            <div class="thermos-vis" style="width:120px; height:240px; margin:20px auto;">
                <div style="position:absolute; top:30px; left:10px; width:100px; height:200px; background:#e74c3c; display:flex; justify-content:center; align-items:center; color:white;">90Â°C</div>
                <div style="position:absolute; top:0; width:100%; height:100%; border:3px solid silver; border-radius:15px; pointer-events:none;"></div>
            </div>
            <div style="text-align:center;">
                <button class="action-btn" onclick="alert('ééŠ€å…§å£ = é¡å­ = åå°„è¼»å°„')">ééŠ€æ“‹èª°ï¼Ÿ</button>
                <button class="action-btn" onclick="alert('çœŸç©º = ç„¡ä»‹è³ª = æ“‹å‚³å°/å°æµ')" style="background:#7f8c8d;">çœŸç©ºæ“‹èª°ï¼Ÿ</button>
            </div>
        </div>

        <div id="helper-chart" class="helper-card">
            <h3>ğŸ“ˆ ç‹€æ…‹è®ŠåŒ–åœ–</h3>
            <div class="chart-vis">
                <div class="chart-line" style="width:60px; bottom:56px; left:35px; background:#e67e22;" onclick="alert('å¹³è‡º = è®Šèº«ä¸­ (å¸ç†±ä¸å‡æº«)')"></div>
                <div style="position:absolute; top:20px; left:20px;">é»æ“Šæ©˜è‰²ç·šæ®µ</div>
            </div>
            <p style="text-align:center; color:#d35400; font-weight:bold;">å¹³è‡º = æº«åº¦è¨ˆå¡ä½ = æ­£åœ¨è®Šèº«ï¼</p>
        </div>

        <div id="helper-atom" class="helper-card">
            <h3>âš›ï¸ åŸå­èº«åˆ†è­‰</h3>
            <div class="atom-stage" style="transform:scale(0.8);">
                <div class="orbit" style="width:120px; height:120px;"></div>
                <div class="nucleus">P</div>
            </div>
            <div style="text-align:center; display:flex; flex-direction:column; gap:10px;">
                <button class="action-btn" onclick="alert('å‹•è³ªå­ = è®Šå…ƒç´  (ä¸è¡Œï¼)')">æŠŠ Na è®Šæˆ Mgï¼Ÿ</button>
                <button class="action-btn" onclick="alert('å‹•ä¸­å­ = è®Šèƒ– = åŒä½ç´  (æ­£ç¢º)')" style="background:#7f8c8d;">æŠŠ ç¢³-12 è®Š ç¢³-14ï¼Ÿ</button>
                <button class="action-btn" onclick="alert('å‹•é›»å­ = è®Šé›¢å­ (æ­£ç¢º)')" style="background:#3498db;">æŠŠ Na è®Š Naâºï¼Ÿ</button>
            </div>
        </div>

        <div id="helper-period" class="helper-card">
            <h3>ğŸ“‘ 1A æ— (é¹¼é‡‘å±¬)</h3>
            <div style="background:#f9f9f9; padding:20px; border-radius:10px;">
                <p>æˆå“¡ï¼šé‹° (Li)ã€éˆ‰ (Na)ã€é‰€ (K)</p>
                <p style="color:red; font-weight:bold;">ç‰¹æ€§ï¼šæ´»æ€§è¶…å¤§ï¼ç¢°åˆ°æ°´æœƒåŠ‡çƒˆåæ‡‰ç”¢ç”Ÿæ°«æ°£ã€‚</p>
                <p>ä¿å­˜ï¼šå¿…é ˆæ³¡åœ¨ç¤¦ç‰©æ²¹è£¡ã€‚</p>
            </div>
        </div>
    </div>
</div>

<script>
    // --- æ ¸å¿ƒå°èˆªé‚è¼¯ (ä¿®æ­£ç‰ˆ) ---
    function switchScreen(screenId) {
        // 1. éš±è—æ‰€æœ‰ç•«é¢
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        
        // 2. é¡¯ç¤ºç›®æ¨™ç•«é¢
        document.getElementById(screenId).classList.add('active');
        
        // 3. ç‰¹æ®Šé‡ç½®
        if(screenId === 'lecture-zone') {
            showSlide(1);
            initElec();
        }
        if(screenId === 'mastery-zone') {
            document.getElementById('helper-intro').style.display = 'block';
            document.querySelectorAll('.helper-card').forEach(c => c.classList.remove('active'));
        }
    }

    // --- ä¸Šèª²æ¨¡å¼é‚è¼¯ ---
    function showSlide(n) {
        document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
        document.getElementById('slide-'+n).classList.add('active');
        document.querySelectorAll('.lec-step').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.lec-step')[n-1].classList.add('active');
    }

    // 5-5 å¯¦é©—
    let heatTimer;
    function heatStart() {
        let temp = -10; let time = 0;
        const dot = document.getElementById('graph-dot');
        const ice = document.getElementById('ice-visual');
        const water = document.getElementById('water-visual');
        const txt = document.getElementById('state-text');
        
        if(heatTimer) clearInterval(heatTimer);
        
        heatTimer = setInterval(() => {
            time += 1;
            if(time < 20) { temp += 1; txt.innerText = "å›ºé«”å‡æº« (" + temp + "Â°C)"; } 
            else if(time < 50) { 
                temp = 0; txt.innerText = "å¹³è‡ºï¼šç†”åŒ–ä¸­ (æº«åº¦å¡ä½ï¼)";
                txt.style.color = "#d35400";
                ice.style.opacity = 1 - (time-20)/30;
                water.style.height = ((time-20)/30 * 80) + 'px';
            } 
            else if(time < 80) { 
                temp += 1; txt.innerText = "æ¶²é«”å‡æº« (" + temp + "Â°C)"; 
                txt.style.color = "black";
                water.style.height = (80 + (temp/100)*20) + 'px';
            }
            
            dot.style.left = (time * 3) + 'px';
            dot.style.bottom = (20 + (temp+10)*1.5) + 'px'; 
            
            if(time > 100) clearInterval(heatTimer);
        }, 50);
    }
    function heatStop() { clearInterval(heatTimer); }

    // 6-2 å¯¦é©—
    function lecModAtom(type) {
        const msg = document.getElementById('lec-msg');
        if(type==='p') {
            msg.innerText = "âš ï¸ è­¦å‘Šï¼šå‹•åˆ°è³ªå­ï¼Œå…ƒç´ è®Šæˆåˆ¥äººäº†ï¼(C -> N)";
            document.getElementById('lec-nucleus').style.background = "#e74c3c";
            document.getElementById('lec-atom-name').innerText = "N æ°®";
        } else if (type==='n') {
            msg.innerText = "â­• å¾ˆå¥½ï¼šå‹•ä¸­å­åªæ˜¯è®Šèƒ– (åŒä½ç´ )ï¼Œé‚„æ˜¯ç¢³ï¼";
        } else {
            msg.innerText = "â­• å¾ˆå¥½ï¼šå‹•é›»å­åªæ˜¯å¸¶é›» (é›¢å­)ï¼Œé‚„æ˜¯ç¢³ï¼";
            document.getElementById('lec-elec-con').innerHTML = ''; 
        }
    }
    
    function initElec() {
        const c = document.getElementById('lec-elec-con');
        if(!c) return;
        c.innerHTML = '';
        for(let i=0; i<6; i++) {
            let d = document.createElement('div'); d.className='electron';
            let r=i<2?50:90; let a=i*60;
            d.style.top=`calc(50% + ${r*Math.sin(a)}px - 7px)`;
            d.style.left=`calc(50% + ${r*Math.cos(a)}px - 7px)`;
            c.appendChild(d);
        }
    }

    // --- å¯¦æˆ°æ¨¡å¼é‚è¼¯ ---
    function openHelper(id) {
        document.querySelectorAll('.q-box').forEach(b => b.classList.remove('active'));
        event.currentTarget.classList.add('active');
        
        document.getElementById('helper-intro').style.display = 'none';
        document.querySelectorAll('.helper-card').forEach(c => c.classList.remove('active'));
        document.getElementById('helper-'+id).classList.add('active');
    }

    function check(el, isCorrect) {
        if(isCorrect) {
            el.classList.add('correct');
        } else {
            el.classList.add('wrong');
            alert("ç­”éŒ¯å›‰ï¼è«‹çœ‹å³é‚Šçš„å¯¦é©—æç¤º ğŸ‘‰");
        }
    }

</script>
</body>
</html>