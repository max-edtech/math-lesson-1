<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²›å¦¤çš„ç†åŒ–ç‰¹è¨“ä¸­å¿ƒ</title>
    <style>
        :root { 
            --primary: #2c3e50; --accent: #d35400; --bg: #f5f6fa;
            --paper: #fff; --highlight: #f1c40f;
        }
        body { font-family: 'Microsoft JhengHei', sans-serif; background: var(--bg); margin: 0; padding: 0; height: 100vh; overflow: hidden; }

        /* === é¦–é ï¼šå¯¦é©—å¤§å»³ === */
        #home-screen { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: linear-gradient(135deg, #2c3e50, #4ca1af); color: white; transition: 0.5s; }
        .hero-title { font-size: 3rem; margin-bottom: 20px; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .hero-desc { font-size: 1.2rem; margin-bottom: 50px; opacity: 0.9; }
        
        .card-container { display: flex; gap: 30px; }
        .feature-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 30px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2); width: 200px; text-align: center; cursor: pointer; transition: 0.3s; }
        .feature-card:hover { transform: translateY(-10px); background: rgba(255,255,255,0.2); }
        .icon { font-size: 3rem; margin-bottom: 15px; display: block; }

        .btn-mastery { background: #e74c3c; color: white; padding: 15px 40px; font-size: 1.5rem; border: none; border-radius: 50px; cursor: pointer; margin-top: 50px; font-weight: bold; box-shadow: 0 10px 20px rgba(231, 76, 60, 0.4); animation: pulse 2s infinite; }
        .btn-mastery:hover { transform: scale(1.05); }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* === ç²¾ç†Ÿå°ˆå€ (å·¦å³åˆ†å‰²) === */
        #mastery-zone { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 100; display: none; flex-direction: row; }
        #mastery-zone.active { display: flex; animation: slideUp 0.5s; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* å·¦å´ï¼šæ¨¡æ“¬è€ƒå· */
        .exam-panel { width: 45%; background: #fdfdfd; padding: 30px; overflow-y: auto; border-right: 2px solid #ddd; }
        .exam-header { border-bottom: 3px double #333; padding-bottom: 15px; margin-bottom: 20px; text-align: center; }
        .question-box { margin-bottom: 25px; padding: 15px; border-radius: 8px; border-left: 5px solid transparent; transition: 0.2s; cursor: pointer; }
        .question-box:hover { background: #f9f9f9; }
        .question-box.active { background: #fffbe6; border-left-color: #f1c40f; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        
        .q-tag { font-size: 0.8rem; background: #eee; padding: 2px 6px; border-radius: 4px; color: #555; margin-right: 5px; }
        .q-text { font-weight: bold; margin-bottom: 10px; line-height: 1.5; color: #2c3e50; }
        .q-opt { padding: 8px; border: 1px solid transparent; border-radius: 5px; margin-bottom: 5px; font-size: 0.95rem; cursor: pointer; }
        .q-opt:hover { background: #f0f0f0; }
        .q-opt.correct { background: #d4edda; color: #155724; border-color: #c3e6cb; }
        .q-opt.wrong { background: #f8d7da; color: #721c24; border-color: #f5c6cb; }

        .btn-summon { float: right; background: var(--accent); color: white; border: none; padding: 5px 15px; border-radius: 20px; cursor: pointer; font-size: 0.8rem; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }

        /* å³å´ï¼šå¯¦é©—æ•‘æ´ */
        .lab-panel { width: 55%; background: #ecf0f1; position: relative; padding: 20px; display: flex; align-items: center; justify-content: center; }
        .lab-card { width: 95%; height: 95%; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: none; padding: 20px; overflow-y: auto; position: relative; }
        .lab-card.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .close-btn { position: absolute; top: 20px; right: 20px; background: #333; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; z-index: 200; }

        /* --- å„ç¨®å¯¦é©—çš„ CSS (ç²¾ç°¡æ•´åˆ) --- */
        .thermos-vis { width: 140px; height: 280px; border: 4px solid #555; margin: 0 auto; position: relative; background: #eee; border-radius: 15px; }
        .t-layer { position: absolute; width: 100%; height: 100%; border-radius: 11px; transition: 0.3s; opacity: 0; }
        
        .atom-vis { width: 260px; height: 260px; margin: 0 auto; position: relative; }
        .orbit { border: 1px dashed #ccc; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .nucleus { width: 60px; height: 60px; background: #c0392b; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; font-weight: bold; }
        .electron { width: 12px; height: 12px; background: #3498db; border-radius: 50%; position: absolute; }
        
        .chart-vis { width: 300px; height: 200px; border-left: 2px solid #333; border-bottom: 2px solid #333; position: relative; margin: 20px auto; }
        .chart-line { position: absolute; height: 4px; background: #95a5a6; transform-origin: left bottom; cursor: pointer; transition: 0.2s; }
        .chart-line:hover { height: 8px; background: #e67e22; }

    </style>
</head>
<body>

<div id="home-screen">
    <div class="hero-title">STEM INSIGHT | ç†åŒ–ç‰¹è¨“</div>
    <div class="hero-desc">è§€å¿µå»ºæ§‹ & è€ƒé¡Œå¯¦æˆ°æ•´åˆç³»çµ±</div>
    
    <div class="card-container">
        <div class="feature-card">
            <span class="icon">âš›ï¸</span>
            <h3>åŸå­å¯¦é©—å®¤</h3>
            <p>6-2 åŸå­çµæ§‹</p>
        </div>
        <div class="feature-card">
            <span class="icon">ğŸ”¥</span>
            <h3>ç†±å­¸å¯¦é©—å®¤</h3>
            <p>5-4 ç†±å‚³æ’­</p>
        </div>
        <div class="feature-card">
            <span class="icon">ğŸ“ˆ</span>
            <h3>åœ–è¡¨å¯¦é©—å®¤</h3>
            <p>5-5 ç‹€æ…‹è®ŠåŒ–</p>
        </div>
    </div>

    <button class="btn-mastery" onclick="enterMastery()">ğŸš€ é€²å…¥ã€ç²¾ç†Ÿå°ˆå€ã€‘æª¢è¨</button>
</div>

<div id="mastery-zone">
    <button class="close-btn" onclick="exitMastery()">å›åˆ°å¤§å»³</button>

    <div class="exam-panel">
        <div class="exam-header">
            <h2>ç¿°æ—ç‰ˆ Aå· - é‡é»é¡Œå‹ç‰¹è¨“</h2>
            <p>ç¯„åœï¼š5-4 ~ 6-4 (ç²¾é¸ 7 é¡Œ)</p>
        </div>

        <div class="question-box" onclick="activateLab('heat-cond')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">5-4 å‚³å°</span>1. å†¬å¤©æ‘¸é‡‘å±¬é–€æŠŠè¦ºå¾—æ¯”æ‘¸æœ¨é–€å†°å†·ï¼Œé€™æ˜¯å› ç‚ºé‡‘å±¬å…·æœ‰å“ªç¨®ç‰¹æ€§ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. æº«åº¦è¼ƒä½</div>
            <div class="q-opt" onclick="check(this, true)">B. å‚³å°ç†±é‡é€Ÿç‡è¼ƒå¿«</div>
            <div class="q-opt" onclick="check(this, false)">C. æ¯”ç†±è¼ƒå¤§</div>
            <div class="q-opt" onclick="check(this, false)">D. å®¹æ˜“ç”¢ç”Ÿç†±å°æµ</div>
        </div>

        <div class="question-box" onclick="activateLab('thermos')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">5-4 ä¿æº«ç“¶</span>2. æœ‰é—œä¿æº«ç“¶æ§‹é€ ï¼Œä¸‹åˆ—ä½•è€…æ˜¯ç‚ºäº†é˜²æ­¢ã€Œè¼»å°„ã€æ•£ç†±ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. çœŸç©ºå¤¾å±¤</div>
            <div class="q-opt" onclick="check(this, true)">B. ééŠ€å…§å£</div>
            <div class="q-opt" onclick="check(this, false)">C. è»Ÿæœ¨å¡ç“¶è“‹</div>
            <div class="q-opt" onclick="check(this, false)">D. å¤–æ®¼å¡‘è† æè³ª</div>
        </div>

        <div class="question-box" onclick="activateLab('color')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">5-4 è¼»å°„</span>3. å°‡åŒé«”ç©ã€åˆæº«çš†ç‚º 80Â°C çš„é»‘æ¯æ°´èˆ‡ç™½æ¯æ°´éœç½®æ–¼å®¤å…§ï¼Œä½•è€…é™æº«è¼ƒå¿«ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, true)">A. é»‘æ¯æ°´ (è¼»å°„å¼·)</div>
            <div class="q-opt" onclick="check(this, false)">B. ç™½æ¯æ°´ (è¼»å°„å¼±)</div>
            <div class="q-opt" onclick="check(this, false)">C. ä¸€æ¨£å¿«</div>
            <div class="q-opt" onclick="check(this, false)">D. ç„¡æ³•åˆ¤æ–·</div>
        </div>

        <div class="question-box" onclick="activateLab('chart')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">5-5 ç‹€æ…‹è®ŠåŒ–</span>4. å³åœ–ç‚ºåŠ ç†±æ›²ç·šã€‚é—œæ–¼ã€Œæ°´å¹³ç·šæ®µ (å¹³è‡º)ã€çš„æ•˜è¿°ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. æº«åº¦ä¸Šå‡ï¼Œæ­£åœ¨å¸ç†±</div>
            <div class="q-opt" onclick="check(this, true)">B. æº«åº¦ä¸è®Šï¼Œç‹€æ…‹æ­£åœ¨æ”¹è®Š (è®Šèº«ä¸­)</div>
            <div class="q-opt" onclick="check(this, false)">C. ä¸å†å¸ç†±ï¼Œæ‰€ä»¥æº«åº¦ä¸è®Š</div>
            <div class="q-opt" onclick="check(this, false)">D. æ˜¯æ¶²é«”èˆ‡æ°£é«”å…±å­˜ (è‹¥æ˜¯ç¬¬ä¸€æ®µå¹³è‡º)</div>
        </div>

        <div class="question-box" onclick="activateLab('atom')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">6-2 åŸå­çµæ§‹</span>5. å·²çŸ¥éˆ‰åŸå­åº 11ã€‚è‹¥è®Šæˆéˆ‰é›¢å­ (Naâº)ï¼Œæ˜¯å› ç‚ºç™¼ç”Ÿä»€éº¼è®ŠåŒ–ï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. å¾—åˆ° 1 å€‹è³ªå­</div>
            <div class="q-opt" onclick="check(this, false)">B. å¤±å» 1 å€‹è³ªå­</div>
            <div class="q-opt" onclick="check(this, false)">C. å¾—åˆ° 1 å€‹é›»å­</div>
            <div class="q-opt" onclick="check(this, true)">D. å¤±å» 1 å€‹é›»å­</div>
        </div>

        <div class="question-box" onclick="activateLab('iso')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">6-2 åŒä½ç´ </span>6. ç¢³-12 èˆ‡ ç¢³-14 æ˜¯åŒä½ç´ ã€‚å®ƒå€‘åœ¨åŸå­çµæ§‹ä¸Šå“ªè£¡ä¸åŒï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. è³ªå­æ•¸</div>
            <div class="q-opt" onclick="check(this, true)">B. ä¸­å­æ•¸</div>
            <div class="q-opt" onclick="check(this, false)">C. é›»å­æ•¸</div>
            <div class="q-opt" onclick="check(this, false)">D. åŸå­åº</div>
        </div>

        <div class="question-box" onclick="activateLab('period')">
            <button class="btn-summon">ğŸ§ª å¬å–šå¯¦é©—</button>
            <div class="q-text"><span class="q-tag">6-3 é€±æœŸè¡¨</span>7. é—œæ–¼é€±æœŸè¡¨ç¬¬ 1 æ— (é¹¼é‡‘å±¬) çš„ç‰¹æ€§ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ</div>
            <div class="q-opt" onclick="check(this, false)">A. æ´»æ€§å¾ˆå°ï¼Œå®‰å®š</div>
            <div class="q-opt" onclick="check(this, true)">B. æ´»æ€§å¾ˆå¤§ï¼Œé‡æ°´æœƒåŠ‡çƒˆåæ‡‰</div>
            <div class="q-opt" onclick="check(this, false)">C. å±¬æ–¼éé‡‘å±¬</div>
            <div class="q-opt" onclick="check(this, false)">D. åŒ…å« æ°«ã€æ°¦ã€é‹°ã€éˆ‰</div>
        </div>
    </div>

    <div class="lab-panel">
        <div style="color:#7f8c8d; text-align:center;">
            <h3>â¬…ï¸ è«‹é»æ“Šå·¦å´é¡Œç›®</h3>
            <p>å°æ‡‰çš„ã€Œè§£é¡Œç¥å™¨ã€æœƒå‡ºç¾åœ¨é€™è£¡ï¼</p>
        </div>

        <div id="lab-heat-cond" class="lab-card">
            <h3>ğŸ”¥ å‚³å°æ¸¬è©¦</h3>
            <p>é»æ“Šæè³ªï¼Œçœ‹ç†±é‡è·‘å¤šå¿«ï¼</p>
            <div style="display:flex; justify-content:space-around; margin-top:30px;">
                <div onclick="simCond('metal')" style="text-align:center; cursor:pointer;">
                    <div style="width:80px; height:80px; background:#bdc3c7; border-radius:10px; margin:auto;"></div>
                    <p>é‡‘å±¬</p>
                    <div id="arrow-metal" style="color:red; opacity:0; font-size:1.5rem;">ğŸ”¥ğŸ”¥ğŸ”¥</div>
                </div>
                <div onclick="simCond('wood')" style="text-align:center; cursor:pointer;">
                    <div style="width:80px; height:80px; background:#a1887f; border-radius:10px; margin:auto;"></div>
                    <p>æœ¨é ­</p>
                    <div id="arrow-wood" style="color:orange; opacity:0; font-size:1.5rem;">ğŸ”¥</div>
                </div>
            </div>
            <p id="cond-msg" style="text-align:center; color:#d35400; font-weight:bold; margin-top:20px;"></p>
        </div>

        <div id="lab-thermos" class="lab-card">
            <h3>ğŸ›¡ï¸ ä¿æº«ç“¶é˜²ç¦¦</h3>
            <div class="thermos-vis">
                <div class="t-layer" id="t-vac" style="border:3px dashed #999;"></div>
                <div class="t-layer" id="t-sil" style="border:3px solid silver; background:rgba(255,255,255,0.5);"></div>
                <div style="position:absolute; top:40px; left:10px; width:120px; height:220px; background:#e74c3c; border-radius:10px; display:flex; align-items:center; justify-content:center; color:white;">90Â°C</div>
            </div>
            <div style="text-align:center; margin-top:20px;">
                <button onclick="toggleT('vac')">çœŸç©ºå±¤ (æ“‹å‚³å°/å°æµ)</button>
                <button onclick="toggleT('sil')">ééŠ€ (æ“‹è¼»å°„)</button>
            </div>
            <p id="t-msg" style="text-align:center; font-weight:bold; margin-top:10px;"></p>
        </div>

        <div id="lab-color" class="lab-card">
            <h3>â˜€ï¸ é»‘ç™½æ¯æ•£ç†±</h3>
            <div style="display:flex; justify-content:center; gap:20px; margin-top:20px;">
                <div onclick="checkColor('black')" style="width:80px; height:100px; background:black; color:white; display:flex; align-items:center; justify-content:center; cursor:pointer;">é»‘æ¯</div>
                <div onclick="checkColor('white')" style="width:80px; height:100px; background:white; border:2px solid #ccc; display:flex; align-items:center; justify-content:center; cursor:pointer;">ç™½æ¯</div>
            </div>
            <p id="color-msg" style="text-align:center; margin-top:20px; font-weight:bold;"></p>
        </div>

        <div id="lab-chart" class="lab-card">
            <h3>ğŸ“ˆ ç‹€æ…‹è®ŠåŒ–åœ–</h3>
            <div class="chart-vis">
                <div class="chart-line" style="width:50px; bottom:20px; left:0; transform:rotate(-45deg);"></div>
                <div class="chart-line" style="width:50px; bottom:56px; left:35px; background:#e67e22;" onclick="alert('å¹³è‡º = ç†”åŒ–/è®Šèº«ä¸­ (å¸ç†±ä¸å‡æº«)')"></div> <div class="chart-line" style="width:60px; bottom:56px; left:85px; transform:rotate(-30deg);"></div>
                <div style="position:absolute; top:20px; left:20px; font-size:0.8rem; color:#888;">é»æ“Šæ©˜è‰²ç·šæ®µ</div>
            </div>
        </div>

        <div id="lab-atom" class="lab-card">
            <h3>âš›ï¸ èª°æ±ºå®šèº«åˆ†ï¼Ÿ</h3>
            <div class="atom-vis">
                <div class="orbit" style="width:100px; height:100px;"></div>
                <div class="orbit" style="width:180px; height:180px;"></div>
                <div class="nucleus" id="nuc-atom">P:11</div>
                <div id="elec-atom"></div>
            </div>
            <div style="text-align:center; margin-top:10px;">
                ç›®å‰ï¼š<span id="atom-name">Na (11)</span>
                <br>
                <button onclick="modAtom('p')">å‹•è³ªå­ (èº«åˆ†)</button>
                <button onclick="modAtom('e')">å‹•é›»å­ (å¸¶é›»)</button>
            </div>
            <p id="atom-msg" style="text-align:center; color:red; margin-top:10px;"></p>
        </div>

        <div id="lab-iso" class="lab-card">
            <h3>âš–ï¸ ç¢³çš„èƒ–ç˜¦å…„å¼Ÿ</h3>
            <div class="atom-vis">
                <div class="nucleus" style="width:80px; height:80px;">C</div>
            </div>
            <div style="text-align:center;">
                <p>è¦è®Šæˆ ç¢³-14 (åŒä½ç´ )ï¼Œè©²åŠ ä»€éº¼ï¼Ÿ</p>
                <button onclick="alert('éŒ¯ï¼å‹•è³ªå­å°±è®Šæ°®(N)äº†ï¼')">åŠ è³ªå­</button>
                <button onclick="alert('æ­£ç¢ºï¼åŠ ä¸­å­ = è®Šèƒ– = åŒä½ç´ ')">åŠ ä¸­å­</button>
            </div>
        </div>

        <div id="lab-period" class="lab-card">
            <h3>ğŸ“‘ 1A æ— (é¹¼é‡‘å±¬)</h3>
            <div style="background:#f9f9f9; padding:10px; border-radius:10px;">
                <ul>
                    <li><strong>Li (é‹°)</strong></li>
                    <li><strong>Na (éˆ‰)</strong></li>
                    <li><strong>K (é‰€)</strong></li>
                </ul>
                <p>ç‰¹æ€§ï¼šæ´»æ€§è¶…å¤§ï¼ä¸Ÿæ°´è£¡æœƒçˆ†ç‚¸ğŸ’¥</p>
                <p>ä¿å­˜ï¼šè¦æ”¾åœ¨ç¤¦ç‰©æ²¹è£¡ (æ€•ç¢°åˆ°æ°´/ç©ºæ°£)</p>
            </div>
        </div>
    </div>
</div>

<script>
    function enterMastery() {
        document.getElementById('mastery-zone').classList.add('active');
    }
    function exitMastery() {
        document.getElementById('mastery-zone').classList.remove('active');
    }

    function check(el, correct) {
        if(correct) {
            el.classList.add('correct');
        } else {
            el.classList.add('wrong');
        }
    }

    function activateLab(id) {
        // åˆ‡æ› Active é¡Œç›®
        document.querySelectorAll('.question-box').forEach(b => b.classList.remove('active'));
        event.currentTarget.classList.add('active');

        // åˆ‡æ›å³å´ Lab
        document.querySelectorAll('.lab-card').forEach(c => c.classList.remove('active'));
        const lab = document.getElementById('lab-' + id);
        if(lab) lab.classList.add('active');

        // é‡ç½®åŸå­ç‹€æ…‹
        if(id === 'atom') resetAtom();
    }

    // --- Lab é‚è¼¯ ---
    function simCond(type) {
        if(type==='metal') {
            document.getElementById('arrow-metal').style.opacity = 1;
            document.getElementById('arrow-wood').style.opacity = 0;
            document.getElementById('cond-msg').innerText = "é‡‘å±¬å°ç†±å¿«ï¼ŒæŠŠå¦³çš„æ‰‹å¸ä¹¾äº† (è¦ºå¾—å†·)ï¼";
        } else {
            document.getElementById('arrow-metal').style.opacity = 0;
            document.getElementById('arrow-wood').style.opacity = 1;
            document.getElementById('cond-msg').innerText = "æœ¨é ­å°ç†±æ…¢ï¼Œç†±é‡ç•™åœ¨æ‰‹ä¸Šã€‚";
        }
    }

    function toggleT(part) {
        if(part==='vac') {
            document.getElementById('t-vac').style.opacity=1;
            document.getElementById('t-msg').innerText="çœŸç©ºï¼šæ“‹ä½å‚³å° & å°æµï¼";
        } else {
            document.getElementById('t-sil').style.opacity=1;
            document.getElementById('t-msg').innerText="ééŠ€ï¼šæ“‹ä½è¼»å°„ (åå°„)ï¼";
        }
    }

    function checkColor(c) {
        const msg = document.getElementById('color-msg');
        if(c==='black') {
            msg.innerText = "æ­£ç¢ºï¼é»‘æ¯è¼»å°„å¼·ï¼Œæ•£ç†±å¿« (é™æº«å¿«)ã€‚";
            msg.style.color = "green";
        } else {
            msg.innerText = "éŒ¯ï¼ç™½æ¯è¼»å°„å¼±ï¼Œæ•£ç†±æ…¢ã€‚";
            msg.style.color = "red";
        }
    }

    function modAtom(type) {
        const msg = document.getElementById('atom-msg');
        if(type==='p') {
            msg.innerText = "âš ï¸ è­¦å‘Šï¼šå‹•è³ªå­ = è®Šå…ƒç´  (è®Šæˆ Mg é‚)ï¼";
            document.getElementById('nuc-atom').style.background = "#e74c3c";
            document.getElementById('atom-name').innerText = "Mg (12)";
        } else {
            msg.innerText = "âœ… æ­£ç¢ºï¼šå‹•é›»å­ = è®Šé›¢å­ (å¸¶é›»)ï¼";
            msg.style.color = "green";
            document.getElementById('atom-name').innerText = "Na+ (é™½é›¢å­)";
            // æ¸›å°‘ä¸€é¡†é›»å­è¦–è¦º
            let es = document.querySelectorAll('#elec-atom .electron');
            if(es.length > 0) es[es.length-1].style.display = 'none';
        }
    }

    function resetAtom() {
        document.getElementById('atom-name').innerText = "Na (11)";
        document.getElementById('atom-msg').innerText = "";
        document.getElementById('nuc-atom').style.background = "#2c3e50";
        const c = document.getElementById('elec-atom');
        c.innerHTML = '';
        // ç•« 11 é¡†
        for(let i=0; i<11; i++) {
            let d = document.createElement('div'); d.className='electron';
            let r = i<2?50:90; let a = i*35;
            d.style.top = `calc(50% + ${r*Math.sin(a)}px - 6px)`;
            d.style.left = `calc(50% + ${r*Math.cos(a)}px - 6px)`;
            c.appendChild(d);
        }
    }
    resetAtom();

</script>
</body>
</html>