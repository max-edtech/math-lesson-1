<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é­”æ³•é‡è§’å™¨ | STEM INSIGHT</title>
    <style>
        :root { --primary: #1a2a6c; --accent: #f39c12; --bg: #f4f7f6; }
        body { font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        .brand-watermark { position: fixed; bottom: 20px; right: 20px; background: rgba(26, 42, 108, 0.8); color: white; padding: 8px 15px; border-radius: 50px; font-size: 12px; pointer-events: none; z-index: 100; }
        
        header { width: 100%; background: var(--primary); color: white; padding: 15px 0; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        h2 { margin: 0; letter-spacing: 1px; }

        .container { background: white; width: 90%; max-width: 500px; margin-top: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }

        /* è¦–è¦ºå€ */
        .visual-stage { position: relative; width: 300px; height: 300px; margin: 0 auto 20px; }
        
        /* é‡è§’å™¨èƒŒæ™¯ */
        .protractor { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 2px solid #eee; background: radial-gradient(circle, #fff 60%, #f9f9f9 61%); }
        .tick { position: absolute; top: 0; left: 50%; width: 1px; height: 50%; background: #ddd; transform-origin: bottom center; }
        .tick.major { height: 100%; background: #ccc; width: 2px; }

        /* æ‰‡å½¢ SVG */
        svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: rotate(-90deg); /* è®“0åº¦åœ¨æ­£ä¸Šæ–¹ */ }
        path { fill: rgba(243, 156, 18, 0.4); stroke: var(--accent); stroke-width: 3; transition: d 0.1s; }
        
        /* æ•¸æ“šå¡ç‰‡ */
        .data-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .data-card { background: #f8f9fa; padding: 15px; border-radius: 10px; border-left: 4px solid var(--primary); }
        .data-title { font-size: 0.9rem; color: #777; margin-bottom: 5px; }
        .data-value { font-size: 1.8rem; font-weight: bold; color: var(--primary); }
        .fraction { color: #e74c3c; }

        /* æ»‘æ¡¿ */
        input[type=range] { width: 100%; margin: 20px 0; cursor: pointer; }
        .hint { color: #666; font-size: 0.9rem; }
    </style>
</head>
<body>

<header>
    <h2>STEM INSIGHT | æ•¸å­¸å¯¦é©—å®¤</h2>
</header>

<div class="container">
    <div class="visual-stage">
        <div class="protractor">
            <div class="tick major"></div>
            <div class="tick major" style="transform: rotate(90deg)"></div>
        </div>
        <svg viewBox="0 0 100 100">
            <path id="sector" d="M 50 50 L 50 0 A 50 50 0 0 1 100 50 Z"></path>
        </svg>
    </div>

    <div class="data-grid">
        <div class="data-card">
            <div class="data-title">åœ“å¿ƒè§’ (Angle)</div>
            <div class="data-value" id="angle-val">90Â°</div>
        </div>
        <div class="data-card" style="border-left-color: #e74c3c;">
            <div class="data-title">ä½”äº†å¹¾åˆ†ä¹‹å¹¾åœ“</div>
            <div class="data-value fraction" id="frac-val">1/4</div>
        </div>
    </div>

    <input type="range" min="0" max="360" value="90" id="slider" oninput="updateSector(this.value)">
    
    <div class="hint">ğŸ‘‰ è©¦è©¦çœ‹ï¼šæ‹‰åˆ° 180Â° æ˜¯å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ</div>
</div>

<div class="brand-watermark">STEM INSIGHT</div>

<script>
    function updateSector(deg) {
        deg = parseInt(deg);
        if(deg === 0) deg = 0.1;
        if(deg === 360) deg = 359.9;

        // æ›´æ–°æ•¸æ“š
        document.getElementById('angle-val').innerText = deg + "Â°";
        document.getElementById('frac-val').innerText = getFraction(deg);

        // ç¹ªè£½æ‰‡å½¢ (SVG Math)
        // ä¸­å¿ƒ(50,50), åŠå¾‘50. 0åº¦åœ¨æ­£ä¸Šæ–¹(å› ç‚ºCSSè½‰äº†-90åº¦)
        const r = 50;
        const rad = (deg * Math.PI) / 180;
        const x = 50 + r * Math.cos(rad);
        const y = 50 + r * Math.sin(rad);
        
        // å¤§å¼§åˆ¤å®š
        const largeArc = deg > 180 ? 1 : 0;

        // SVG PathæŒ‡ä»¤: MoveToä¸­å¿ƒ -> LineToèµ·é»(å³å´) -> ArcToçµ‚é» -> Close
        // æ³¨æ„ï¼šé€™è£¡çš„èµ·é»ç›¸å°æ–¼SVGåº§æ¨™æ˜¯(100,50)ï¼Œå› ç‚ºSVGé è¨­0åº¦æ˜¯å‘å³
        const d = `M 50 50 L 100 50 A 50 50 0 ${largeArc} 1 ${x} ${y} Z`;
        
        // å› ç‚ºCSSæ—‹è½‰äº†svgï¼Œæˆ‘å€‘éœ€è¦ä¿®æ­£pathçš„ç¹ªè£½é‚è¼¯è®“å®ƒçœ‹èµ·ä¾†æ˜¯é †æ™‚é‡
        // é€™è£¡ç›´æ¥ç”¨ç°¡å–®çš„æ–¹å¼ï¼šè®“ path è·Ÿè‘— slider å‹•
        // ç‚ºäº†è®“æ•¸å­¸ç›´è¦ºæ­£ç¢º (0åº¦åœ¨æ­£ä¸Šæ–¹æˆ–æ­£å³æ–¹)ï¼Œæˆ‘å€‘èª¿æ•´ä¸€ä¸‹ï¼š
        // é€™è£¡è¨­å®šï¼š0åº¦åœ¨æ­£ä¸Šæ–¹ (12é»é˜)ï¼Œé †æ™‚é‡æ—‹è½‰
        
        // é‡æ–°è¨ˆç®— (ä¿®æ­£ç‰ˆ):
        // 0åº¦(Start) = (50, 0)
        // çµ‚é»ç”± sin/cos è¨ˆç®— (æ³¨æ„åº§æ¨™ç³»è½‰æ›)
        // x = 50 + 50 * sin(rad)
        // y = 50 - 50 * cos(rad)
        
        const x2 = 50 + 50 * Math.sin(rad);
        const y2 = 50 - 50 * Math.cos(rad);
        
        const d2 = `M 50 50 L 50 0 A 50 50 0 ${largeArc} 1 ${x2} ${y2} Z`;
        
        // ç§»é™¤ CSS çš„ rotate(-90deg) æ•ˆæœï¼Œç›´æ¥ç”¨ç®—å‡ºä¾†çš„ d2
        document.querySelector('svg').style.transform = 'none';
        document.getElementById('sector').setAttribute('d', d2);
    }

    // è¨ˆç®—åˆ†æ•¸ (GCDæ¼”ç®—æ³•)
    function getFraction(deg) {
        if(deg >= 359) return "1";
        const gcd = (a, b) => b ? gcd(b, a % b) : a;
        const common = gcd(deg, 360);
        return `${deg/common} / ${360/common}`;
    }
</script>
</body>
</html>