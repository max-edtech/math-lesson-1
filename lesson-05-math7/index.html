<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>ä¸ƒå¹´ç´šæ•¸å­¸ | ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼å·¥å…·ç®±</title>
    <style>
        :root { --primary: #3498db; --accent: #f1c40f; --dark: #2c3e50; }
        body { font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif; background: #f0f2f5; margin: 0; display: flex; flex-direction: column; align-items: center; }
        
        .brand-watermark { position: fixed; bottom: 20px; right: 20px; background: rgba(26, 42, 108, 0.8); color: white; padding: 8px 15px; border-radius: 50px; font-size: 12px; pointer-events: none; }
        
        /* é ç±¤ */
        .tabs { display: flex; width: 100%; background: var(--dark); padding: 10px 0; justify-content: center; gap: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .tab-btn { background: transparent; color: #ccc; border: 2px solid transparent; padding: 8px 20px; cursor: pointer; font-size: 1rem; border-radius: 20px; font-weight: bold; }
        .tab-btn.active { background: white; color: var(--dark); border-color: white; }

        .container { width: 90%; max-width: 800px; background: white; margin-top: 30px; border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); display: none; }
        .container.active { display: block; }

        h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; color: var(--dark); }

        /* --- å¤©å¹³æ¨£å¼ --- */
        .balance-scale { position: relative; width: 100%; height: 250px; margin-top: 20px; }
        .beam { width: 80%; height: 8px; background: var(--dark); position: absolute; bottom: 40px; left: 10%; border-radius: 4px; transition: 0.5s; display: flex; justify-content: space-between; }
        .pivot { width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-bottom: 40px solid var(--dark); position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); }
        .pan { width: 120px; height: 100px; border: 3px solid var(--dark); border-top: none; position: relative; bottom: -20px; display: flex; flex-wrap: wrap-reverse; justify-content: center; align-content: flex-start; }
        .block-x { width: 30px; height: 30px; background: #e74c3c; color: white; margin: 2px; display: flex; align-items: center; justify-content: center; font-weight: bold; border-radius: 4px; }
        .block-1 { width: 20px; height: 20px; background: var(--primary); color: white; margin: 2px; border-radius: 50%; font-size: 12px; display: flex; align-items: center; justify-content: center; }
        .vanish { transform: scale(0); opacity: 0; transition: 0.5s; }

        /* --- åˆ†æ•¸æ¨£å¼ --- */
        .frac-eqn { font-size: 2rem; text-align: center; margin: 30px 0; }
        .frac { display: inline-block; vertical-align: middle; text-align: center; margin: 0 5px; }
        .frac .top { border-bottom: 2px solid black; display: block; padding: 0 5px; }
        .bar-container { display: flex; height: 50px; width: 300px; border: 2px solid #333; margin: 0 auto; background: #eee; }
        .bar-part { flex: 1; border-right: 1px dashed white; display: flex; align-items: center; justify-content: center; color: #aaa; transition: 0.5s; }
        .bar-part.filled { background: #e74c3c; color: white; }

        /* --- æ‡‰ç”¨é¡Œæ¨£å¼ --- */
        .word-problem { font-size: 1.4rem; line-height: 1.8; text-align: left; background: #fafafa; padding: 20px; border-radius: 10px; border-left: 5px solid var(--accent); }
        .keyword { border-bottom: 2px solid var(--accent); cursor: pointer; transition: 0.3s; padding: 0 5px; }
        .keyword:hover { background: #fff3cd; }
        .keyword.revealed { background: #27ae60; color: white; border: none; border-radius: 4px; }
        .math-out { font-size: 2rem; font-weight: bold; color: var(--dark); text-align: center; margin-top: 20px; height: 40px; }

        button.action-btn { background: var(--dark); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px; font-size: 1rem; }
        button.action-btn:hover { background: #34495e; }
    </style>
</head>
<body>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('balance')">âš–ï¸ å¤©å¹³ (ç§»é …æ³•å‰‡)</button>
        <button class="tab-btn" onclick="switchTab('fraction')">ğŸ›¡ï¸ åˆ†æ•¸æ¶ˆé™¤è¡“</button>
        <button class="tab-btn" onclick="switchTab('word')">ğŸ—£ï¸ æ‡‰ç”¨é¡Œç¿»è­¯æ©Ÿ</button>
    </div>

    <div id="balance" class="container active">
        <h2>ç­‰é‡å…¬ç†ï¼šå…©é‚ŠåŒæ™‚åšä¸€æ¨£çš„äº‹</h2>
        <div style="text-align:center; font-size:1.5rem; margin-bottom:10px;">
            <span id="eq-l">2x + 6</span> = <span id="eq-r">10</span>
        </div>
        <div class="balance-scale">
            <div class="beam">
                <div class="pan" id="pan-left">
                    </div>
                <div class="pan" id="pan-right"></div>
            </div>
            <div class="pivot"></div>
        </div>
        <div style="text-align:center;">
            <button class="action-btn" onclick="balanceStep1()">æ­¥é©Ÿä¸€ï¼šåŒæ™‚æ‹¿æ‰ 6 (æ¸›æ³•å…¬ç†)</button>
            <button class="action-btn" onclick="balanceStep2()">æ­¥é©ŸäºŒï¼šåŒæ™‚å¹³åˆ† (é™¤æ³•å…¬ç†)</button>
            <button class="action-btn" style="background:#e67e22" onclick="initBalance()">é‡ç½®</button>
        </div>
    </div>

    <div id="fraction" class="container">
        <h2>é‡åˆ°åˆ†æ¯æ€éº¼è¾¦ï¼Ÿ</h2>
        <div class="frac-eqn">
            <span class="frac"><span class="top">x</span><span>3</span></span> + 2 = 5
        </div>
        
        <p style="text-align:center;">æƒ³åƒ x è¢«åˆ‡æˆ 3 ä»½ï¼Œæˆ‘å€‘åªæ‹¿äº†å…¶ä¸­ 1 ä»½...</p>
        <div class="bar-container">
            <div class="bar-part filled">x/3</div>
            <div class="bar-part">?</div>
            <div class="bar-part">?</div>
        </div>

        <div style="text-align:center;">
            <button class="action-btn" style="background:#e74c3c;" onclick="solveFraction()">âš¡ ç™¼å‹•é­”æ³•ï¼šåŒä¹˜ 3</button>
        </div>
        
        <div id="frac-result" style="text-align:center; margin-top:20px; font-size:1.5rem; opacity:0; transition:1s;">
            x + 6 = 15 <br>
            <span style="font-size:1rem; color:#666;">(æ¯ä¸€é …éƒ½ä¹˜ä»¥ 3ï¼Œåˆ†æ¯å°±æ¶ˆå¤±äº†ï¼)</span>
        </div>
    </div>

    <div id="word" class="container">
        <h2>é—œéµå­—ç¿»è­¯ç·´ç¿’</h2>
        <p>é»æ“Šé»ƒè‰²åº•ç·šçš„å­—ï¼Œçœ‹çœ‹å®ƒè®Šæˆä»€éº¼æ•¸å­¸ç¬¦è™Ÿã€‚</p>
        <div class="word-problem">
            çˆ¸çˆ¸çš„å¹´é½¡ <span class="keyword" onclick="reveal(this, '=')">æ˜¯</span> 
            å…’å­çš„ <span class="keyword" onclick="reveal(this, '3x')">ä¸‰å€</span> 
            <span class="keyword" onclick="reveal(this, '+')">å¤š</span> 5 æ­²ã€‚
            <br>
            (è¨­å…’å­ç‚º xï¼Œçˆ¸çˆ¸ç‚º y)
        </div>
        <div class="math-out" id="math-output">y ___ ___ ___ 5</div>
    </div>

    <div class="brand-watermark">STEM INSIGHT</div>

    <script>
        function switchTab(id) {
            document.querySelectorAll('.container').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
        }

        // --- å¤©å¹³é‚è¼¯ ---
        function initBalance() {
            const l = document.getElementById('pan-left');
            const r = document.getElementById('pan-right');
            l.innerHTML = ''; r.innerHTML = '';
            // Left: 2x + 6
            for(let i=0;i<2;i++) l.innerHTML += '<div class="block-x">X</div>';
            for(let i=0;i<6;i++) l.innerHTML += '<div class="block-1">1</div>';
            // Right: 10
            for(let i=0;i<10;i++) r.innerHTML += '<div class="block-1">1</div>';
            
            document.getElementById('eq-l').innerText = "2x + 6";
            document.getElementById('eq-r').innerText = "10";
        }

        function balanceStep1() {
            // ç§»é™¤å…©é‚Šå„ 6 å€‹ 1
            const l_ones = document.querySelectorAll('#pan-left .block-1');
            const r_ones = document.querySelectorAll('#pan-right .block-1');
            for(let i=0; i<6; i++) {
                if(l_ones[i]) l_ones[i].classList.add('vanish');
                if(r_ones[i]) r_ones[i].classList.add('vanish');
            }
            setTimeout(() => {
                document.getElementById('eq-l').innerText = "2x";
                document.getElementById('eq-r').innerText = "4";
            }, 500);
        }

        function balanceStep2() {
            alert("å‰©ä¸‹ 2 å€‹ X å’Œ 4 å€‹ 1ã€‚å¹³å‡åˆ†çµ¦ Xï¼Œæ¯å€‹ X å¾—åˆ° 2ï¼");
            document.getElementById('eq-l').innerText = "x";
            document.getElementById('eq-r').innerText = "2";
        }
        
        initBalance(); // å•Ÿå‹•åˆå§‹åŒ–

        // --- åˆ†æ•¸é‚è¼¯ ---
        function solveFraction() {
            document.querySelectorAll('.bar-part').forEach(el => {
                el.classList.add('filled');
                el.innerText = 'x/3';
            });
            setTimeout(() => {
                document.querySelector('.bar-container').style.background = "#e74c3c";
                document.querySelector('.bar-container').innerHTML = "<div style='width:100%; text-align:center; color:white; font-weight:bold; line-height:50px;'>x (å®Œæ•´)</div>";
                document.getElementById('frac-result').style.opacity = '1';
            }, 1000);
        }

        // --- æ‡‰ç”¨é¡Œé‚è¼¯ ---
        function reveal(el, txt) {
            el.innerText = txt;
            el.classList.add('revealed');
            updateMath();
        }
        function updateMath() {
            const txt = document.querySelector('.word-problem').innerText;
            if(txt.includes('=') && txt.includes('3x') && txt.includes('+')) {
                document.getElementById('math-output').innerText = "y = 3x + 5";
                document.getElementById('math-output').style.color = "#27ae60";
            }
        }
    </script>
</body>
</html>