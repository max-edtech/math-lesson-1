<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸ƒå¹´ç´šæ•¸å­¸ï¼š3-1~3-2 å®Œæ•´å­¸ç¿’æ¨¡çµ„</title>
    
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #2a9d8f;
            --danger: #e63946;
        }
        body { font-family: "Microsoft JhengHei", "Heiti TC", sans-serif; margin: 0; background-color: #eef2f5; color: var(--dark); }
        
        /* å°è¦½åˆ— */
        .navbar {
            background: white; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky; top: 0; z-index: 100; display: flex; justify-content: center; gap: 15px;
        }
        .nav-btn {
            padding: 10px 20px; border: none; background: #e0e0e0; font-size: 16px; font-weight: bold; cursor: pointer; border-radius: 25px; transition: 0.3s; color: #555;
        }
        .nav-btn:hover { background-color: #d0d0d0; }
        .nav-btn.active { background-color: var(--primary); color: white; box-shadow: 0 4px 10px rgba(67, 97, 238, 0.4); }

        /* ä¸»å®¹å™¨ */
        .main-container { max-width: 900px; margin: 30px auto; background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); min-height: 80vh; }
        
        /* åˆ‡æ›é¡¯ç¤ºæ§åˆ¶ */
        .view-section { display: none; animation: fadeIn 0.5s; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* é¡Œç›®æ¨£å¼ */
        h2 { border-left: 5px solid var(--primary); padding-left: 10px; color: var(--primary); margin-top: 30px; }
        h3 { color: var(--secondary); margin-top: 25px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .question-block { margin-bottom: 20px; padding: 15px; border-bottom: 1px dashed #ddd; border-radius: 8px; transition: background 0.3s; }
        .question-title { font-weight: bold; margin-bottom: 10px; font-size: 1.05em; }
        .options label { display: block; margin: 8px 0; cursor: pointer; padding: 5px; border-radius: 4px; }
        .options label:hover { background-color: #f0f8ff; }
        
        /* å¡«å……é¡Œè¼¸å…¥æ¡† */
        .fill-input { border: 1px solid #ccc; border-radius: 4px; padding: 5px; width: 150px; text-align: center; font-size: 1em; }
        
        /* è¨ˆç®—é¡Œå€å¡Š */
        .calc-block { background: #fdfdfd; padding: 15px; border: 1px solid #eee; margin-bottom: 15px; }
        .answer-key { display: none; margin-top: 10px; padding: 15px; background-color: #e3f2fd; border-radius: 5px; color: #0d47a1; }
        .show-ans-btn { background: #6c757d; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 5px;}

        /* æŒ‰éˆ•èˆ‡çµæœ */
        .btn-action { display: block; width: 100%; padding: 15px; background: var(--primary); color: white; border: none; font-size: 18px; border-radius: 8px; cursor: pointer; margin-top: 30px; }
        .btn-action:hover { background: var(--secondary); }
        .result-box { margin-top: 30px; padding: 20px; background: #e9ecef; border-radius: 10px; display: none; }
        .score-display { font-size: 2.5em; font-weight: bold; color: var(--danger); text-align: center; margin: 10px 0; }
        .analysis-text { line-height: 1.6; color: #333; }
        .correct-tag { color: var(--danger); font-weight: bold; margin-left: 10px; font-size: 0.9em; }

        /* è¬›è§£æ¨¡å¼æ¨£å¼ */
        .lecture-slide { display: none; }
        .lecture-slide.active { display: block; }
        .concept-card { background: #f8f9fa; border-left: 5px solid var(--accent); padding: 20px; margin: 20px 0; border-radius: 5px; }
        .lecture-nav { display: flex; justify-content: space-between; margin-top: 30px; }
        .btn-nav { padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .btn-nav.next { background: var(--primary); }
    </style>
</head>
<body>

    <nav class="navbar">
        <button class="nav-btn active" onclick="switchView('view-pretest', this)">1. èª²å‰æª¢æ¸¬</button>
        <button class="nav-btn" onclick="switchView('view-lecture', this)">2. é‡é»è¬›è§£</button>
        <button class="nav-btn" onclick="switchView('view-posttest', this)">3. èª²å¾Œé©—æ”¶ (ç·´ç¿’å·)</button>
    </nav>

    <div class="main-container">

        <div id="view-pretest" class="view-section active">
            <h2 style="text-align:center;">èª²å‰è§€å¿µæª¢æ¸¬ (15é¡Œ)</h2>
            <p style="text-align:center; color:#666;">é…åˆ†ï¼š1-5é¡Œæ¯é¡Œ6åˆ†ï¼Œ6-15é¡Œæ¯é¡Œ7åˆ†ã€‚</p>
            
            <form id="pretestForm">
                <h3>ä¸€ã€ä»£æ•¸å¼çš„åŸºæœ¬èªè­˜</h3>
                <div class="question-block" data-ans="B"><div class="question-title">1. $x \cdot 5$ ç°¡è¨˜ç‚ºä»€éº¼ï¼Ÿ</div><div class="options"><label><input type="radio" name="p1" value="A"> (A) $x5$</label><label><input type="radio" name="p1" value="B"> (B) $5x$</label><label><input type="radio" name="p1" value="C"> (C) $x+5$</label></div></div>
                <div class="question-block" data-ans="C"><div class="question-title">2. $x \div 3$ å¯ä»¥å¯«æˆä»€éº¼ï¼Ÿ</div><div class="options"><label><input type="radio" name="p2" value="A"> (A) $3x$</label><label><input type="radio" name="p2" value="B"> (B) $\frac{3}{x}$</label><label><input type="radio" name="p2" value="C"> (C) $\frac{x}{3}$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">3. $x$ è‡ªå·±ä¹˜è‡ªå·± ($x \cdot x$) è¨˜ç‚ºï¼Ÿ</div><div class="options"><label><input type="radio" name="p3" value="A"> (A) $2x$</label><label><input type="radio" name="p3" value="B"> (B) $x^2$</label><label><input type="radio" name="p3" value="C"> (C) $2+x$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">4. åœ¨ä»£æ•¸å¼ $-3x + 5$ ä¸­ï¼Œ$x$ çš„ä¿‚æ•¸æ˜¯å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p4" value="A"> (A) 3</label><label><input type="radio" name="p4" value="B"> (B) $-3$</label><label><input type="radio" name="p4" value="C"> (C) 5</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">5. ä¸‹åˆ—ä½•è€…æ˜¯ã€Œä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼ã€ï¼Ÿ</div><div class="options"><label><input type="radio" name="p5" value="A"> (A) $2x+1$</label><label><input type="radio" name="p5" value="B"> (B) $2x+1=5$</label><label><input type="radio" name="p5" value="C"> (C) $3+4=7$</label></div></div>

                <h3>äºŒã€é‹ç®—è¦å‰‡æª¢æ¸¬</h3>
                <div class="question-block" data-ans="A"><div class="question-title">6. åŒ–ç°¡ $3x + 2x$ ç­‰æ–¼å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p6" value="A"> (A) $5x$</label><label><input type="radio" name="p6" value="B"> (B) $6x$</label><label><input type="radio" name="p6" value="C"> (C) $5x^2$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">7. åŒ–ç°¡ $5x - x$ ç­‰æ–¼å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p7" value="A"> (A) 5</label><label><input type="radio" name="p7" value="B"> (B) $4x$</label><label><input type="radio" name="p7" value="C"> (C) $5$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">8. $2(x+3)$ å»æ‹¬è™Ÿå±•é–‹å¾Œæ˜¯å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p8" value="A"> (A) $2x+3$</label><label><input type="radio" name="p8" value="B"> (B) $2x+6$</label><label><input type="radio" name="p8" value="C"> (C) $x+6$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">9. $-(x-5)$ å»æ‹¬è™Ÿå±•é–‹å¾Œæ˜¯å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p9" value="A"> (A) $-x-5$</label><label><input type="radio" name="p9" value="B"> (B) $-x+5$</label><label><input type="radio" name="p9" value="C"> (C) $x+5$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">10. åŒ–ç°¡ $2x + 3 + 4x$ (åˆä½µåŒé¡é …)ï¼Ÿ</div><div class="options"><label><input type="radio" name="p10" value="A"> (A) $9x$</label><label><input type="radio" name="p10" value="B"> (B) $6x + 3$</label><label><input type="radio" name="p10" value="C"> (C) $5x + 4$</label></div></div>

                <h3>ä¸‰ã€æ–¹ç¨‹å¼æ±‚è§£èƒ½åŠ›</h3>
                <div class="question-block" data-ans="B"><div class="question-title">11. ç•¶ $x=2$ æ™‚ï¼Œä»£æ•¸å¼ $3x+1$ çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="p11" value="A"> (A) 6</label><label><input type="radio" name="p11" value="B"> (B) 7</label><label><input type="radio" name="p11" value="C"> (C) 4</label></div></div>
                <div class="question-block" data-ans="A"><div class="question-title">12. è§£æ–¹ç¨‹å¼ $x + 3 = 10$ï¼Œå‰‡ $x = ?$</div><div class="options"><label><input type="radio" name="p12" value="A"> (A) 7</label><label><input type="radio" name="p12" value="B"> (B) 13</label><label><input type="radio" name="p12" value="C"> (C) -7</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">13. è§£æ–¹ç¨‹å¼ $2x = 8$ï¼Œå‰‡ $x = ?$</div><div class="options"><label><input type="radio" name="p13" value="A"> (A) 6</label><label><input type="radio" name="p13" value="B"> (B) 4</label><label><input type="radio" name="p13" value="C"> (C) 16</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">14. è§£æ–¹ç¨‹å¼ $x - 2 = 6$ï¼Œå‰‡ $x = ?$</div><div class="options"><label><input type="radio" name="p14" value="A"> (A) 4</label><label><input type="radio" name="p14" value="B"> (B) 8</label><label><input type="radio" name="p14" value="C"> (C) -4</label></div></div>
                <div class="question-block" data-ans="C"><div class="question-title">15. ã€ŒæŸæ•¸ $x$ çš„ 3 å€ç­‰æ–¼ 15ã€ï¼Œåˆ—å¼ç‚ºä½•ï¼Ÿ</div><div class="options"><label><input type="radio" name="p15" value="A"> (A) $x+3=15$</label><label><input type="radio" name="p15" value="B"> (B) $x \div 3 = 15$</label><label><input type="radio" name="p15" value="C"> (C) $3x=15$</label></div></div>

                <button type="button" class="btn-action" onclick="checkPretest()">æäº¤å‰æ¸¬ä¸¦åˆ†æ</button>
            </form>

            <div id="pretest-result" class="result-box">
                <h3>å‰æ¸¬çµæœ</h3>
                <div class="score-display">å¾—åˆ†ï¼š<span id="pretest-score">0</span> / 100</div>
                <div class="analysis-text" id="pretest-analysis"></div>
                <button class="btn-action" style="background-color: var(--success);" onclick="switchView('view-lecture', document.querySelectorAll('.nav-btn')[1])">ğŸ‘‰ é€²å…¥é‡é»è¬›è§£</button>
            </div>
        </div>

        <div id="view-lecture" class="view-section">
            <h2 style="text-align:center;">é‡é»è§€å¿µè¬›è§£</h2>
            
            <div id="lecture-container">
                <div class="lecture-slide active">
                    <h3>1. ä»£æ•¸ç¬¦è™Ÿçš„æ„ç¾©</h3>
                    <div class="concept-card">
                        <p><b>$x$ æ˜¯ä¸€å€‹æœªçŸ¥æ•¸</b>ï¼šæŠŠå®ƒæƒ³æˆä¸€å€‹ã€Œç›’å­ã€ï¼Œè£¡é¢è£è‘—ä¸çŸ¥é“å¤šå°‘æ±è¥¿ã€‚</p>
                        <ul>
                            <li>$5x$ï¼šä»£è¡¨ 5 å€‹ç›’å­ (ä¹˜æ³•çœç•¥)ã€‚</li>
                            <li>$x + 3$ï¼šä»£è¡¨ç›’å­è£¡çš„æ•¸é‡å†åŠ  3ã€‚</li>
                        </ul>
                    </div>
                </div>
                <div class="lecture-slide">
                    <h3>2. åˆ†é…å¾‹èˆ‡å»æ‹¬è™Ÿ</h3>
                    <div class="concept-card">
                        <p><b>æ‹¬è™Ÿå‰é¢æ˜¯æ•¸å­—ï¼š</b>ä¹˜é€²å»æ¯ä¸€é …ã€‚</p>
                        <p>$$ 2(x + 3) = 2 \cdot x + 2 \cdot 3 = 2x + 6 $$</p>
                        <hr>
                        <p><b>æ‹¬è™Ÿå‰é¢æ˜¯è² è™Ÿï¼š</b>è£¡é¢æ¯ä¸€é …éƒ½è¦è®Šè™Ÿã€‚</p>
                        <p>$$ -(x - 5) = -x + 5 $$</p>
                    </div>
                </div>
                <div class="lecture-slide">
                    <h3>3. ç§»é …æ³•å‰‡</h3>
                    <div class="concept-card">
                        <p><b>è·¨éç­‰è™Ÿï¼Œå°±è¦è®Šè™Ÿï¼</b></p>
                        <ul>
                            <li>$+$ è®Š $-$</li>
                            <li>$-$ è®Š $+$</li>
                            <li>$\times$ è®Š $\div$</li>
                            <li>$\div$ è®Š $\times$</li>
                        </ul>
                        <p>ä¾‹ï¼š$2x + 3 = 11 \Rightarrow 2x = 11 - 3 \Rightarrow 2x = 8 \Rightarrow x = 4$</p>
                    </div>
                </div>

                <div class="lecture-nav">
                    <button class="btn-nav" onclick="changeSlide(-1)">ä¸Šä¸€é </button>
                    <span id="slide-indicator">1 / 3</span>
                    <button class="btn-nav next" onclick="changeSlide(1)">ä¸‹ä¸€é </button>
                </div>
            </div>
        </div>

        <div id="view-posttest" class="view-section">
            <h2 style="text-align:center;">èª²å¾Œé©—æ”¶ï¼šåŸºç¤ç·´ç¿’å·</h2>
            <p style="text-align:center; color:#666;">è©¦å·æ»¿åˆ† 100 åˆ† (é¸æ“‡40% / å¡«å……40% / è¨ˆç®—20%)</p>

            <form id="posttestForm">
                <h3>ä¸€ã€é¸æ“‡é¡Œ (æ¯é¡Œ 4 åˆ†ï¼Œå…± 40 åˆ†)</h3>
                <div class="question-block" data-ans="D"><div class="question-title">1. ä¸‹åˆ—é—œæ–¼ä»£æ•¸å¼çš„ç°¡è¨˜ï¼Œä½•è€…æ˜¯æ­£ç¢ºçš„ï¼Ÿ</div><div class="options"><label><input type="radio" name="po1" value="A"> (A) $x \times (-8)$ è¨˜ç‚º $x-8$</label><label><input type="radio" name="po1" value="B"> (B) $x \div 4$ è¨˜ç‚º $4x$</label><label><input type="radio" name="po1" value="C"> (C) $x \times x$ è¨˜ç‚º $2x$</label><label><input type="radio" name="po1" value="D"> (D) $1 \times x$ è¨˜ç‚º $x$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">2. åŒ–ç°¡ $5x - 2x$ çš„çµæœç‚ºä½•ï¼Ÿ</div><div class="options"><label><input type="radio" name="po2" value="A"> (A) $3$</label><label><input type="radio" name="po2" value="B"> (B) $3x$</label><label><input type="radio" name="po2" value="C"> (C) $7x$</label><label><input type="radio" name="po2" value="D"> (D) $-3x$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">3. åˆ©ç”¨åˆ†é…å¾‹å±•é–‹ $3(x + 4)$ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ</div><div class="options"><label><input type="radio" name="po3" value="A"> (A) $3x + 4$</label><label><input type="radio" name="po3" value="B"> (B) $3x + 12$</label><label><input type="radio" name="po3" value="C"> (C) $x + 12$</label><label><input type="radio" name="po3" value="D"> (D) $3x + 7$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">4. ç•¶ $x = 3$ æ™‚ï¼Œä»£æ•¸å¼ $2x - 1$ çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ</div><div class="options"><label><input type="radio" name="po4" value="A"> (A) 4</label><label><input type="radio" name="po4" value="B"> (B) 5</label><label><input type="radio" name="po4" value="C"> (C) 6</label><label><input type="radio" name="po4" value="D"> (D) 7$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">5. ä¸‹åˆ—å“ªä¸€å€‹æ˜¯ã€Œä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼ã€ï¼Ÿ</div><div class="options"><label><input type="radio" name="po5" value="A"> (A) $3x + 5$</label><label><input type="radio" name="po5" value="B"> (B) $2x - 1 = 0$</label><label><input type="radio" name="po5" value="C"> (C) $x^2 + 1 = 5$</label><label><input type="radio" name="po5" value="D"> (D) $3 + 5 = 8$</label></div></div>
                <div class="question-block" data-ans="B"><div class="question-title">6. è§£æ–¹ç¨‹å¼ $x - 5 = 10$ï¼Œå‰‡ $x = ï¼Ÿ$</div><div class="options"><label><input type="radio" name="po6" value="A"> (A) 5</label><label><input type="radio" name="po6" value="B"> (B) 15</label><label><input type="radio" name="po6" value="C"> (C) -5</label><label><input type="radio" name="po6" value="D"> (D) 50</label></div></div>
                <div class="question-block" data-ans="A"><div class="question-title">7. è§£æ–¹ç¨‹å¼ $3x = 18$ï¼Œå‰‡ $x = ï¼Ÿ$</div><div class="options"><label><input type="radio" name="po7" value="A"> (A) 6</label><label><input type="radio" name="po7" value="B"> (B) 15</label><label><input type="radio" name="po7" value="C"> (C) 21</label><label><input type="radio" name="po7" value="D"> (D) 54</label></div></div>
                <div class="question-block" data-ans="C"><div class="question-title">8. ã€ŒæŸæ•¸ $x$ åŠ  3 ä¹‹å¾Œç­‰æ–¼ 10ã€ï¼Œä¾é¡Œæ„åˆ—å‡ºæ–¹ç¨‹å¼ç‚ºä½•ï¼Ÿ</div><div class="options"><label><input type="radio" name="po8" value="A"> (A) $x - 3 = 10$</label><label><input type="radio" name="po8" value="B"> (B) $3x = 10$</label><label><input type="radio" name="po8" value="C"> (C) $x + 3 = 10$</label><label><input type="radio" name="po8" value="D"> (D) $x = 10 + 3$</label></div></div>
                <div class="question-block" data-ans="A"><div class="question-title">9. ä¸€æ¯å¥¶èŒ¶ $x$ å…ƒï¼Œå°æ˜è²·äº† 2 æ¯ï¼Œä»˜äº† 100 å…ƒï¼Œè«‹å•è€é—†æ‡‰è©²æ‰¾ä»–å¤šå°‘éŒ¢ï¼Ÿ</div><div class="options"><label><input type="radio" name="po9" value="A"> (A) $100 - 2x$</label><label><input type="radio" name="po9" value="B"> (B) $2x - 100$</label><label><input type="radio" name="po9" value="C"> (C) $100 - x$</label><label><input type="radio" name="po9" value="D"> (D) $2x + 100$</label></div></div>
                <div class="question-block" data-ans="C"><div class="question-title">10. åŒ–ç°¡ $(2x + 5) + (3x - 2)$ çš„çµæœç‚ºä½•ï¼Ÿ</div><div class="options"><label><input type="radio" name="po10" value="A"> (A) $5x + 7$</label><label><input type="radio" name="po10" value="B"> (B) $6x - 10$</label><label><input type="radio" name="po10" value="C"> (C) $5x + 3$</label><label><input type="radio" name="po10" value="D"> (D) $x + 3$</label></div></div>

                <h3>äºŒã€å¡«å……é¡Œ (æ¯æ ¼ 4 åˆ†ï¼Œå…± 40 åˆ†)</h3>
                <div class="question-block" data-type="fill" data-ans="y/3"><div class="question-title">1. ç°¡è¨˜ä»£æ•¸å¼ï¼š$y \times \frac{1}{3} =$ <input type="text" class="fill-input" placeholder="ä¾‹: y/3"></div></div>
                <div class="question-block" data-type="fill" data-ans="7x"><div class="question-title">2. åŒ–ç°¡ï¼š$4x + 3x =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="-2x"><div class="question-title">3. åŒ–ç°¡ï¼š$7x - 9x =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="8x-2"><div class="question-title">4. åŒ–ç°¡ï¼š$2(4x - 1) =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="11"><div class="question-title">5. ç•¶ $x = -2$ æ™‚ï¼Œ$-3x + 5$ çš„å€¼ç‚º <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="-5"><div class="question-title">6. è§£æ–¹ç¨‹å¼ $x + 8 = 3$ï¼Œå‰‡ $x =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="0"><div class="question-title">7. è§£æ–¹ç¨‹å¼ $5x = 0$ï¼Œå‰‡ $x =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="5"><div class="question-title">8. è§£æ–¹ç¨‹å¼ $2x - 1 = 9$ï¼Œå‰‡ $x =$ <input type="text" class="fill-input"></div></div>
                <div class="question-block" data-type="fill" data-ans="3x+4=40"><div class="question-title">9. åª½åª½ 40 æ­²ï¼Œå°è¯ $x$ æ­²ï¼Œåª½åª½å¹´é½¡æ¯”å°è¯çš„ 3 å€å¤š 4 æ­²ï¼Œåˆ—å‡ºæ–¹ç¨‹å¼ï¼š <input type="text" class="fill-input" style="width:200px"></div></div>
                <div class="question-block" data-type="fill" data-ans="2x+20"><div class="question-title">10. å¯¬ç‚º 5ï¼Œé•·æ¯”å¯¬å¤š $x$ï¼Œå‘¨é•·ä»¥ $x$ è¡¨ç¤ºç‚º <input type="text" class="fill-input"> (éœ€åŒ–ç°¡)</div></div>

                <h3>ä¸‰ã€è¨ˆç®—èˆ‡æ‡‰ç”¨é¡Œ (å…± 20 åˆ†)</h3>
                <p>è«‹æ‹¿å‡ºç´™ç­†è¨ˆç®—ï¼Œå®Œæˆå¾Œé»æ“ŠæŒ‰éˆ•æª¢æŸ¥ç­”æ¡ˆã€‚</p>
                <div class="calc-block">
                    <p><b>1. åŒ–ç°¡ä»£æ•¸å¼ (6åˆ†)ï¼š</b> $3(2x - 1) - 2(x + 4)$</p>
                    <button type="button" class="show-ans-btn" onclick="toggleAns('ans-c1')">ğŸ‘€ æŸ¥çœ‹è©³è§£</button>
                    <div id="ans-c1" class="answer-key">ç­”ï¼š$4x - 11$</div>
                </div>
                <div class="calc-block">
                    <p><b>2. è§£æ–¹ç¨‹å¼ (7åˆ†)ï¼š</b> $5x + 2 = 2x + 11$</p>
                    <button type="button" class="show-ans-btn" onclick="toggleAns('ans-c2')">ğŸ‘€ æŸ¥çœ‹è©³è§£</button>
                    <div id="ans-c2" class="answer-key">ç­”ï¼š$x = 3$</div>
                </div>
                <div class="calc-block">
                    <p><b>3. æ‡‰ç”¨å•é¡Œ (7åˆ†)ï¼š</b> åŸå­ç­†ä¸€æ”¯ 12 å…ƒï¼Œå°ç¾å¸¶ 100 å…ƒè²·äº† $x$ æ”¯ï¼Œå‰© 28 å…ƒã€‚è«‹å•å°ç¾è²·äº†å¹¾æ”¯ï¼Ÿ</p>
                    <button type="button" class="show-ans-btn" onclick="toggleAns('ans-c3')">ğŸ‘€ æŸ¥çœ‹è©³è§£</button>
                    <div id="ans-c3" class="answer-key">ç­”ï¼š6 æ”¯</div>
                </div>

                <button type="button" class="btn-action" style="background: var(--accent);" onclick="checkPosttest()">äº¤å·ä¸¦è¨ˆç®—é¸æ“‡/å¡«å……é¡Œåˆ†æ•¸</button>
            </form>

            <div id="posttest-result" class="result-box">
                <h3 style="text-align:center">æ¸¬é©—çµæœ (åƒ…è¨ˆç®—é¸æ“‡èˆ‡å¡«å……é¡Œ 80 åˆ†)</h3>
                <div class="score-display">å¾—åˆ†ï¼š<span id="posttest-score">0</span> / 80</div>
                <p style="text-align:center;">è¨ˆç®—é¡Œè«‹è‡ªè¡Œæ ¸å°è©³è§£ï¼Œè‹¥å…¨å°ç¸½åˆ†ç‚ºï¼š <span id="total-score-est">0</span> åˆ†</p>
            </div>
        </div>

    </div>

    <script>
        // åˆ‡æ›è¦–åœ–
        function switchView(viewId, btnElement) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
            
            if(btnElement) {
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                btnElement.classList.add('active');
            }
            if(window.MathJax) MathJax.typesetPromise();
        }

        // æŠ•å½±ç‰‡é‚è¼¯
        let currentSlide = 0;
        const slides = document.querySelectorAll('.lecture-slide');
        function changeSlide(direction) {
            slides[currentSlide].classList.remove('active');
            currentSlide += direction;
            if (currentSlide < 0) currentSlide = 0;
            if (currentSlide >= slides.length) currentSlide = slides.length - 1;
            slides[currentSlide].classList.add('active');
            document.getElementById('slide-indicator').innerText = (currentSlide + 1) + " / " + slides.length;
            
            const nextBtn = document.querySelector('.btn-nav.next');
            if(currentSlide === slides.length - 1) {
                nextBtn.innerText = "å»å¯«ç·´ç¿’å·";
                nextBtn.onclick = function() { switchView('view-posttest', document.querySelectorAll('.nav-btn')[2]); };
                nextBtn.style.background = "var(--success)";
            } else {
                nextBtn.innerText = "ä¸‹ä¸€é ";
                nextBtn.onclick = function() { changeSlide(1); };
                nextBtn.style.background = "var(--primary)";
            }
            if(window.MathJax) MathJax.typesetPromise();
        }

        // é¡¯ç¤º/éš±è—è©³è§£
        function toggleAns(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
            if(window.MathJax) MathJax.typesetPromise([el]);
        }

        // å‰æ¸¬æ”¹åˆ†
        function checkPretest() {
            let score = 0;
            const blocks = document.querySelectorAll('#pretestForm .question-block');
            
            // æ¸…é™¤èˆŠæ¨™è¨˜
            document.querySelectorAll('.correct-tag').forEach(el => el.remove());

            blocks.forEach((block, index) => {
                const correct = block.getAttribute('data-ans');
                const selected = block.querySelector('input:checked');
                const points = (index < 5) ? 6 : 7;

                if (selected && selected.value === correct) {
                    score += points;
                    block.style.background = "#d4edda";
                } else {
                    block.style.background = "#f8d7da";
                    block.querySelector('.question-title').insertAdjacentHTML('beforeend', `<span class="correct-tag"> (æ­£è§£: ${correct})</span>`);
                }
            });

            // é¡¯ç¤ºçµæœèˆ‡å»ºè­°
            let advice = "";
            if (score <= 40) advice = "ã€åŸºç¤æœªç©©ã€‘å»ºè­°å…ˆå»ã€Œé‡é»è¬›è§£ã€å¼„æ‡‚æœªçŸ¥æ•¸çš„æ¦‚å¿µã€‚";
            else if (score <= 70) advice = "ã€è§€å¿µæ··æ·†ã€‘é‹ç®—è¦å‰‡é‚„ä¸ç†Ÿï¼Œè«‹å¤šæ³¨æ„æ­£è² è™Ÿèˆ‡åˆ†é…å¾‹ã€‚";
            else if (score <= 90) advice = "ã€ç²—å¿ƒå¤§æ„ã€‘è§€å¿µä¸éŒ¯ï¼Œä½†è¨ˆç®—è¦æ›´ç´°å¿ƒå–”ï¼";
            else advice = "ã€å®Œå…¨ç²¾é€šã€‘å¤ªæ£’äº†ï¼ä½ çš„åŸºç¤å¾ˆç´®å¯¦ï¼Œç›´æ¥å»å¯«ç·´ç¿’å·å§ï¼";

            document.getElementById('pretest-score').innerText = score;
            document.getElementById('pretest-analysis').innerText = advice;
            document.getElementById('pretest-result').style.display = 'block';
            window.scrollTo(0, document.body.scrollHeight);
        }

        // å¾Œæ¸¬æ”¹åˆ†
        function checkPosttest() {
            let score = 0;
            const form = document.getElementById('posttestForm');
            
            // æ”¹é¸æ“‡é¡Œ
            form.querySelectorAll('.question-block:not([data-type="fill"])').forEach(block => {
                const correct = block.getAttribute('data-ans');
                const selected = block.querySelector('input:checked');
                if (selected && selected.value === correct) {
                    score += 4;
                    block.style.background = "#d4edda";
                } else {
                    block.style.background = "#f8d7da";
                }
            });

            // æ”¹å¡«å……é¡Œ
            form.querySelectorAll('.question-block[data-type="fill"]').forEach(block => {
                const correct = block.getAttribute('data-ans').toLowerCase().replace(/\s/g, ''); // å»ç©ºç™½è½‰å°å¯«
                const input = block.querySelector('input').value.toLowerCase().replace(/\s/g, '');
                
                // ç°¡å–®å®¹éŒ¯æ¯”å° (äº¦å¯æ¥å— 1/3y)
                let isCorrect = (input === correct);
                if (correct === 'y/3' && input === '1/3y') isCorrect = true;

                if (isCorrect) {
                    score += 4;
                    block.style.background = "#d4edda";
                } else {
                    block.style.background = "#f8d7da";
                    // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                    if(!block.querySelector('.correct-tag')) {
                        block.querySelector('.question-title').insertAdjacentHTML('beforeend', `<span class="correct-tag"> (ç­”: ${block.getAttribute('data-ans')})</span>`);
                    }
                }
            });

            document.getElementById('posttest-score').innerText = score;
            document.getElementById('total-score-est').innerText = (score + 20); // å‡è¨­è¨ˆç®—é¡Œå…¨å°
            document.getElementById('posttest-result').style.display = 'block';
            
            // è‡ªå‹•æ‰“é–‹æ‰€æœ‰è©³è§£
            document.querySelectorAll('.answer-key').forEach(el => el.style.display = 'block');
            
            window.scrollTo(0, document.body.scrollHeight);
            if(window.MathJax) MathJax.typesetPromise();
        }

    </script>
</body>
</html>